## **🎈 *Spring Framework #1주차 강의***

***

<br>

### **📌 목차**

- 🎯 **Spring FrameWork란?**
- 🎯 **Spring이 가진 가장 기본적인 능력 2가지**
- 🎯 **Java EE / SE**
- 🎯 **웹 개발 3가지 범주**
- 🎯 **웹 애플리케이션 아키텍처 [논리층]**

<br>

***

<br> 

### **📌 Spring FrameWork란?**

> **단순히 라이브러리만 가져다 쓰는 방식이 아니라 Dependency Injection을 쉽게 구현할 수 있게<br> 함으로써 모듈간의 결합을 쉽게 해주는 도구이다**

- **EJB**에 관련된 Class Component 들을 다 제외하고 만든 경량 컨테이너라고도 불린다.

  > **EJB** : 비즈니스 로직을 구현하는 분산 환경에서의 트랜잭션 처리를 위한 컴포넌트
  >
  > **JSP/Servlet** : 프리젠테이션 층 구현

- 경량 컨테이너이기 때문에 POJO 객체를 상속받지 않고 사용 가능하다.

  > **기존 EJB의 문제점인 복잡성을 감소시킴**
  >
  > **POJO** : 특정 인터페이스 또는 클래스를 상속받을 필요가 없는 가벼운 객체

- 자바 플랫폼을 위한 오픈소스 애플리케이션 프레임워크다.

<br>

### **📌 Spring이 가진 가장 기본적인 능력**

1. **📃 DI(종속성 조립, Dependency Injection)** 
   - 각 계층이나 서비스들 간에 의존성 존재 시 프레임워크가 서로 연결시켜준다
   - 변경 용이성, 확장성, 품질관리 용이
   - EJB의 부품화 문제 해결<br> 
2. **📃 IoC(Inversion of Control) 경량 컨테이너** 
   - 필요에 따라 스프링 프레임워크에서 사용자 코드를 호출
   - 일반 객체의 생명 주기 관리, 오브젝트 간의 의존관계 해결 아키텍처 구현
   - EJB의 객체 생명 주기 문제 해결<br> 
3. **📃 AOP(Aspect Oriented Programming)**
   - 트랜잭션, 로깅, 보안과 같이 여러 모듈에서 공통적으로 사용하는 기능을 분리하여 관리
   - EJB의 프로그램 가독성, 정보 은닉 해결



<br> 

### **📌 Java EE / SE**

- **Java EE(Java Enterprise Edition)** 
  - 주로 웹 개발, 분산 어플리케이션 개발에 사용되는 편집기
  - 분산형, 기업형 응용 프로그램 개발을 위한 API 결합도를 낮추는 DI, DB, 트랜잭션 처리, 로그 처리가<br> 중요한 개발에 사용된다.
  - **Spring**은 Java EE가 가진 특성에서 더 깔끔하고 쉽게 처리한다.
  - EE가 가진 모든 기능을 **Spring**이 가지기 시작하여 스프링이 EE를 대신하기 시작했다.<br> 
- **Java SE(Java Standard Edition)**

<br> 

### **📌 웹 개발 3 가지 범주**

1. **MVC**
   - DI(Dependency Injection) 사용
2. **트랜잭션**
   - AOP 사용
3. **인증과 권한**
   - Servlet Filter 사용

<br>

### **📌 웹 애플리케이션 아키텍처**

> **물리층(Tier)과 논리층(Layer)로 구분된다**

- **📃 물리층(Tier)**

  - **⚙ 클라이언트 층(PC, 스마트폰)**
  - **⚙ 중간 층(애플리케이션 서버)**
  - **⚙ ELS 층(데이터 베이스)**<br> 

- **📃 논리층(Layer)**

  > **단방향 액세스라는 특징을 가진다** 

  - **⚙ 프레젠테이션 층**
    - 사용자 인터페이스와 **컨트롤러** 제공(**Controller**)
    - **컨트롤러** : 화면 전환이나 화면에서 버튼이 눌렸을 때 동작 제어, 세션 관리 등<br> 
  - **⚙ 비즈니스로직 층**
    - 비즈니스 로직을 제공(**Service**)
    - **Service** : 유스케이스로 표현되는 특정업무나 특정부서 처리의 통합
    - **Domain** : 서비스로부터 비즈니스를 실행함에 있어 자신이 무엇인지 나타내는 값과<br> 그 값을 이용한 처리를 실현한다.<br> 
  - **⚙ 데이터 액세스 층**
    - 데이터 액세스를 추상화(**DAO**, Data Access Object)<br> 

- **📖 좋은 아키텍처 설계**

  > **브라우저에 표시하거나 RDB에 저장하는 기술 등에 비즈니스 로직이 영향을<br> 받지 않는 것**

  - 비즈니스 로직층이 시스템의 핵심이므로 메커니즘이 변해도 영향을 받지 않게 만든다.
  - **안전 의존성 원칙**
  - **의존 관계**
  - **역전 원칙**
  - 각 논리 레이어 층 간에 결합 부분에 인터페이스를 도입한 **느슨한 결합** 설계나 구현이 필요하다
    - **프레젠테이션 층** - <u>(서비스 인터페이스)</u> - **비즈니스 로직 층** - <u>(AO 인터페이스)</u> - **데이터 액세스 층**

<br> 

### **📌 웹 애플리케이션 아키텍처 [논리층]**

1. **Presentation Layer**
   - 사용자 인터페이스와 **컨트롤러**를 제공하는 역할을 한다
   - **컨트롤러**는 사용자 인터페이스를 통해 사용자의 입력을 받아 적정한 로직을 호출, 그 결과를<br> 사용자 인터페이스로 변환
   - **AJAX(비동기 통신), Vue, React, Angular(클라이언트 프레임워크)** <br> 
   - 모델 1 방식과 모델 2 방식으로 구분된다.
     - **모델 1 방식**
       - JSP만 구현 개발, Java bean을 포함하여 개발
       - 로직 혼재로 복잡도가 높고 유지 보수가 어렵다
     - **모델 2 방식[MVC 패턴]**
       - Model, View, Controller로 구성되어 있다.
       - **Model** 
         - View에 필요한 비즈니스 영역의 로직을 처리한다
         - DB에 접근해서 사용자 요구에 적절한 데이터를 처리한다.
       - **View** 
         - 모델에서 처리된 결과로 사용자에게 보여줄 뷰를 담당한다.
       - **Controller**
         - 사용자의 입력 처리와 화면의 흐름 제어를 담당한다.
         - 사용자의 요청을 받아 적절한 모델에 비즈니스 로직을 호출하고, 그 결과를<br> View로 넘겨준다.

![Untitled Diagram](https://user-images.githubusercontent.com/55940552/110473210-a1991480-8121-11eb-859f-707f031ba443.png)

2. **Business Logic Layer**
   - **Service**와 **Domain**으로 구성
   - 비즈니스 로직 처리
   - **🗄 트랜잭션 관리**
     - ***트랜잭션 스크립트 방식***
       - 도메인 : 가능한 로직을 포함하지 않고 값만 저장
         - VO : Value Object
         - DTO : Data Transfer Object<br> 
     - ***트랜잭션 관리***
       - 트랜잭션의 ACID 특성 중 **원자성**과 **독립성**을 관리
       - **원자성** : 트랜잭션 내 모든 처리는 전부 실행되거나 아무것도 실행되지 않아야 함
       - **독립성** : 병행 실행 트랜잭션 간에는 간섭 받지 않고 독립적이다.<br> 
     - ***트랜잭션 경계***
       - **프레젠테이션**과 **비즈니스 로직** 층 사이에 존재하는 것이 일반적이다.
       - **비즈니스 로직 층의 서비스 클래스에 메서드가 호출** : 트랜잭션 시작
       - **비즈니스 로직 층의 서비스 클래스의 메서드가 종료, <br>프레젠테이션 층의 클래스로 돌아갈 때** : 트랜잭션 종료
     - **명시적 / 선언적 트랜잭션**
       - 명시적 트랜잭션 : 시작, 커밋, 롤백 등 같은 RDB에 대한 트랜잭션 관리를 소스 코드로 명시
       - 선언적 트랜잭션 : 프레임워크에서 제공하는 정의 파일 선언을 통해 트랜잭션 관리<br> 
3. **Data Access Layer**
   - RDB 액세스를 비즈니스 로직으로 숨긴다.
   - 비즈니스 로직에 필요한 데이터를 테이블에서 가져와서 객체에 매칭한다.
     - 이를 ***O/R 매핑***이라 함
     - 객체지향 분석설계 단계에서의 엔티티를 테이블로 작성한 형태
   - DB 액세스 프레임 워크 종류
     - Hybernate(O/R Mapping 프레임워크)
     - MyBatis(SQL 사용 DB 액세스 프레임워크)
     - Spring JDBC(SQl 사용 DB 액세스 프레임워크)
   - 커넥션 풀을 사용한다.

***

**[출처]**

- [한국산업기술대학교 컴퓨터공학부](http://www.kpu.ac.kr/index.do?sso=ok)